# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç - –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VAST deployment

## ‚úÖ –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–Ω–µ—Å–µ–Ω—ã –≤ –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã

### –ß—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **upscale_app.py** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `VENV_PYTHON` –¥–ª—è subprocess
2. **requirements.txt** - –∑–∞–∫—Ä–µ–ø–ª–µ–Ω—ã —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–µ –≤–µ—Ä—Å–∏–∏ PyTorch
3. **install.sh** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–∞—Ç—á–∏—Ç basicsr –∏ –¥–æ–±–∞–≤–ª—è–µ—Ç VENV_PYTHON
4. **–ù–æ–≤—ã–µ —Å–∫—Ä–∏–ø—Ç—ã** - –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –∏ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

## –î–µ–π—Å—Ç–≤–∏—è –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å:

### 1Ô∏è‚É£ –ó–∞–∫–æ–º–º–∏—Ç—å—Ç–µ –∏ –∑–∞–ø—É—à—å—Ç–µ (–Ω–∞ –≤–∞—à–µ–º Mac):

```bash
cd /Users/igortkachenko/Downloads/aporto
git add .
git commit -m "Fix: VAST deployment venv and basicsr compatibility"
git push origin main
```

### 2Ô∏è‚É£ –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –Ω–∞ VAST —Å–µ—Ä–≤–µ—Ä–µ:

```bash
# –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å
ssh -p 27281 root@116.102.175.41

# –í—ã–ø–æ–ª–Ω–∏—Ç–µ
cd /workspace/aporto
git pull origin main
bash upscale/vastai_deployment/apply_fix.sh
```

### 3Ô∏è‚É£ –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç:

```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ - –¥–æ–ª–∂–µ–Ω –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Python
tail -f /workspace/server.log

# –î–æ–ª–∂–Ω—ã —É–≤–∏–¥–µ—Ç—å:
# Command: /workspace/aporto/.venv/bin/python ...
# –í–º–µ—Å—Ç–æ: /venv/main/bin/python3 ...
```

## –ß—Ç–æ –¥–µ–ª–∞–µ—Ç apply_fix.sh:

- üîß –ü–∞—Ç—á–∏—Ç `basicsr` (functional_tensor ‚Üí functional)
- üìù –î–æ–±–∞–≤–ª—è–µ—Ç `VENV_PYTHON` –≤ `.env`
- ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ—Ç –∏–º–ø–æ—Ä—Ç—ã
- üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç —Å–µ—Ä–≤–∏—Å
- ‚úÖ –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Å—Ç–∞—Ç—É—Å

## –ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ–π–¥–µ—Ç –Ω–µ —Ç–∞–∫:

```bash
# –î–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∞
bash upscale/vastai_deployment/diagnose.sh

# –†—É—á–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ basicsr
bash upscale/vastai_deployment/fix_basicsr.sh

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
journalctl -u vast-upscale.service -n 100
tail -100 /workspace/server.log
```

## –ì–æ—Ç–æ–≤–æ! üéâ
–ü–æ—Å–ª–µ —ç—Ç–∏—Ö —à–∞–≥–æ–≤ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π venv –∏ –≤—Å–µ –∏–º–ø–æ—Ä—Ç—ã –∑–∞—Ä–∞–±–æ—Ç–∞—é—Ç.
